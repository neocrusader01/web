<!DOCTYPE html>
<html lang="en">
<head>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
#balloonHeader {
    font-family: "Pacifico", cursive;
    font-size: 2.5rem;
    color: #ff4f9a;
    text-shadow: 0 4px 16px rgba(255, 80, 150, 0.35);
    letter-spacing: 1px;
    margin-bottom: 10px;
}

#balloonCaption {
    font-family: "Poppins", sans-serif;
    font-size: 1.2rem;
    color: #ff7fb7;
    opacity: 0.9;
    margin-bottom: 18px;
}
</style>

<meta charset="UTF-8">
<title>Birthday Surprise</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

<style>
    * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
    }

    body {
        font-family: "Poppins", sans-serif;
        background: radial-gradient(circle at top, #ffe3f2, #ffb6d9, #ff9ecb);
        overflow: hidden;
        height: 100vh;
        color: #4a2c2c;
    }

    /* Generic screen wrapper */
    .screen {
        position: absolute;
        inset: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        opacity: 0;
        pointer-events: none;
        transform: translateY(10px);
        transition: opacity 0.6s ease, transform 0.6s ease;
        z-index: 5;
    }

    .screen.active {
        opacity: 1;
        pointer-events: auto;
        transform: translateY(0);
    }

    /* ---------- START SCREEN ---------- */
    #startScreen .card {
        background: rgba(255, 255, 255, 0.9);
        padding: 30px 40px;
        border-radius: 24px;
        box-shadow: 0 15px 40px rgba(0,0,0,0.18);
        text-align: center;
        max-width: 420px;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255,255,255,0.8);
    }

    #startScreen h1 {
        font-size: 2.3rem;
        margin-bottom: 10px;
    }

    #startScreen p {
        font-size: 1rem;
        opacity: 0.8;
        margin-bottom: 22px;
    }

    #startBtn {
        padding: 14px 40px;
        font-size: 1.2rem;
        border-radius: 999px;
        border: none;
        background: linear-gradient(135deg, #ff6fa8, #ff8fbf);
        color: #fff;
        cursor: pointer;
        box-shadow: 0 10px 24px rgba(255, 111, 168, 0.5);
        transition: transform 0.15s ease, box-shadow 0.15s ease;
    }

    #startBtn:hover {
        transform: translateY(-2px) scale(1.03);
        box-shadow: 0 14px 30px rgba(255, 111, 168, 0.6);
    }

    /* ---------- COUNTDOWN SCREEN ---------- */
    #countdownScreen {
        flex-direction: column;
    }

    #countdownCircle {
        width: 180px;
        height: 180px;
        border-radius: 50%;
        background: radial-gradient(circle at 30% 20%, #fff, #ffc1de);
        box-shadow: 0 0 40px rgba(255,255,255,0.9), 0 15px 40px rgba(0,0,0,0.2);
        display: flex;
        justify-content: center;
        align-items: center;
    }

    #countdownNumber {
        font-size: 5rem;
        font-weight: 600;
        color: #ff4f88;
        text-shadow: 0 4px 14px rgba(0,0,0,0.25);
    }

    .pop-animation {
        animation: pop 1s ease-out;
    }

    @keyframes pop {
        0% { transform: scale(0.3); opacity: 0; }
        20% { opacity: 1; }
        60% { transform: scale(1.1); opacity: 1; }
        100% { transform: scale(1.4); opacity: 0; }
    }

    /* ---------- BIRTHDAY SCREEN ---------- */
    #birthdayScreen {
        flex-direction: column;
        text-align: center;
        z-index: 10;
    }

    .birthday-card {
    background: rgba(255,255,255,0.96);
    padding: 40px 50px 45px;
    border-radius: 32px;
    box-shadow: 0 25px 55px rgba(0,0,0,0.25), 0 0 40px rgba(255,200,220,0.7);
    max-width: 520px;
    margin: 0 auto;
    position: relative;
    backdrop-filter: blur(10px);
}

    .birthday-header {
    font-size: 3rem;
    font-weight: 700;
    margin-bottom: 20px;
    color: #ff4f88;
    text-shadow: 0 3px 12px rgba(255,150,190,0.8);
}
    .cake-img {
    width: 360px;
    max-width: 90%;
    border-radius: 26px;
    background: #fff;
    padding: 14px;
    box-shadow: 
        0 16px 40px rgba(0,0,0,0.3),
        0 0 28px rgba(255,180,220,0.9);
}

/* Bigger name */
.name {
    margin-top: 18px;
    font-size: 2rem;
    font-weight: 600;
    color: #4a2c2c;
}

    .subtext {
        font-size: 0.95rem;
        opacity: 0.8;
        margin-top: 4px;
    }

    #msgBtn {
        margin-top: 18px;
        padding: 10px 28px;
        font-size: 1.1rem;
        border-radius: 999px;
        border: none;
        background: linear-gradient(135deg, #ff6fa8, #ff8fbf);
        color: #fff;
        cursor: pointer;
        box-shadow: 0 8px 22px rgba(255,111,168,0.55);
        transition: transform 0.15s ease, box-shadow 0.15s ease;
    }

    #msgBtn:hover {
        transform: translateY(-1px) scale(1.03);
        box-shadow: 0 12px 26px rgba(255,111,168,0.7);
    }

    /* Gentle floating animation for the card */
    .floaty {
        animation: float 4s ease-in-out infinite;
    }

    @keyframes float {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-6px); }
    }

    /* ---------- CONFETTI ---------- */
    .confetti {
        position: fixed;
        top: -20px;
        width: 10px;
        height: 14px;
        opacity: 0.9;
        border-radius: 3px;
        animation: fall linear infinite;
        z-index: 1;
    }

    @keyframes fall {
        0% { transform: translateY(-10vh) rotate(0deg); }
        100% { transform: translateY(120vh) rotate(360deg); }
    }

    /* ---------- BALLOONS ---------- */
    .balloon {
        position: fixed;
        bottom: -120px;
        width: 52px;
        height: 72px;
        border-radius: 50%;
        animation: rise linear infinite;
        z-index: 1;
        box-shadow: inset -8px -10px 14px rgba(0,0,0,0.15);
    }

    .balloon::after {
        content: "";
        position: absolute;
        width: 2px;
        height: 40px;
        background: rgba(80,80,80,0.8);
        left: 50%;
        bottom: -38px;
        transform: translateX(-50%);
    }

    @keyframes rise {
        0% { transform: translateY(0) translateX(0); }
        100% { transform: translateY(-140vh) translateX(15px); }
    }

    /* ---------- POPUP MESSAGE ---------- */
    #popupOverlay {
        display: none;
        position: fixed;
        inset: 0;
        background: rgba(0,0,0,0.6);
        justify-content: center;
        align-items: center;
        z-index: 999;
    }

    #popupBox {
        background: #fff;
        padding: 26px 28px 22px;
        border-radius: 22px;
        max-width: 360px;
        text-align: center;
        font-size: 1.05rem;
        box-shadow: 0 18px 40px rgba(0,0,0,0.35);
        animation: popupIn 0.4s ease-out;
    }

    @keyframes popupIn {
        from { transform: scale(0.7); opacity: 0; }
        to   { transform: scale(1); opacity: 1; }
    }

    #closePopup {
        margin-top: 18px;
        padding: 9px 22px;
        background: #ff4f88;
        border: none;
        color: white;
        border-radius: 999px;
        cursor: pointer;
        font-size: 0.95rem;
        box-shadow: 0 8px 20px rgba(255,79,136,0.55);
    }
 /* ---------- PREMIUM BALLOON POP GAME (with top title) ---------- */
#balloonGame {
    position: absolute;
    inset: 0;
    background: linear-gradient(180deg, #ffe6f5, #ffd2ea);
    display: flex;
    flex-direction: column;
    align-items: center;
    padding-top: 20px;
    overflow: hidden;
    z-index: 10;
}

/* Top container (heading + caption) */
#balloonTop {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-bottom: 10px;
    z-index: 20;
}

#balloonHeader {
    font-size: 2rem;
    font-weight: 700;
    color: #ff2f84;
    text-shadow: 0 4px 22px rgba(255, 100, 150, 0.6);
    margin-bottom: 5px;
    text-align: center;
    padding: 0 20px;
}

#cuteMsg {
    font-size: 1.25rem;
    font-weight: 600;
    color: #ff6fa8;
    height: 32px;
    margin-bottom: 15px;
    text-align: center;
    transition: opacity 0.3s ease;
}

/* Balloon area BELOW the title */
#balloonContainer {
    position: relative;
    width: 100%;
    height: calc(100vh - 140px); /* leaves space for top title */
}

/* Balloons */
.balloonItem {
    width: 90px;
    height: 120px;
    position: absolute;
    border-radius: 50%;
    box-shadow: inset -10px -14px 22px rgba(0,0,0,0.18);
    cursor: pointer;
    transition: transform 0.15s;
    animation: float 3s ease-in-out infinite;
}

.balloonItem:hover {
    transform: scale(1.07);
}

.balloonItem::after {
    content: "";
    position: absolute;
    width: 3px;
    height: 60px;
    background: rgba(80, 80, 80, 0.7);
    left: 50%;
    bottom: -58px;
    transform: translateX(-50%);
}

/* Floating */
@keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}

/* Pop Animation */
.balloon-pop {
    animation: popBalloon 0.38s ease forwards;
}

@keyframes popBalloon {
    0% { transform: scale(1); opacity: 1; }
    100% { transform: scale(1.6); opacity: 0; }
}

/* Mobile size */
@media (max-width: 600px) {
    .balloonItem {
        width: 70px;
        height: 95px;
    }
}
#balloonHeader {
    font-family: "Poppins", sans-serif;
    font-size: 2.4rem;
    font-weight: 700;
    color: #ff3f7c;
    text-align: center;
    margin-bottom: 6px;
}

#balloonCaption {
    font-family: "Poppins", sans-serif;
    font-size: 1.2rem;
    font-weight: 500;
    color: #ff6fa8;
    text-align: center;
    opacity: 0.95;
    margin-bottom: 10px;
}

#balloonSubline {
    font-family: "Poppins", sans-serif;
    font-size: 2.50rem;   /* bigger as you wanted */
    font-weight: 700;     /* premium bold */
    color: #ff4f88;
    text-align: center;
    margin-top: 5px;
}



</style>
</head>

<body>



<!-- COUNTDOWN SCREEN -->
<div id="countdownScreen" class="screen">
    <div id="countdownCircle">
        <span id="countdownNumber">3</span>
    </div>
</div>
<div id="balloonGame" class="screen">
    <div id="balloonHeader">Pop The Balloons üéà‚ú®</div>
    <div id="balloonCaption">your birthday surprise is hiding inside üíñ</div>

    <div id="cuteMsg"></div>
    <div id="balloonContainer"></div>
</div>


<!-- BIRTHDAY SCREEN -->
<div id="birthdayScreen" class="screen">
    <div class="birthday-card floaty">
        <div class="birthday-header">Happy Birthday! üéÇüéÇüéÇ</div>
        <img src="cake001.jpg" alt="Birthday Cake" class="cake-img">
        <div class="name">Shraddha</div>
        <div class="subtext">Wishing you the sweetest day ever üíñ</div>
        <button id="msgBtn">Read Message üíå</button>
    </div>
</div>

<!-- QUESTIONS SECTION -->
<div id="questionsSection" class="screen">
    <div id="questionCard" class="birthday-card floaty" style="max-width:480px;">
        <h2 id="questionText">Loading...</h2>

        <input type="range" id="answerSlider" min="0" max="100" value="50"
            style="width: 100%; margin-top: 22px;">

        <div id="sliderValue" style="margin-top: 10px; font-size:1.1rem; opacity:0.7;">
            50
        </div>
    </div>
</div>

<!-- POPUP MESSAGE -->
<div id="popupOverlay">
    <<div id="popupBox">
    Wishing you a very Happy Birthday! May your life be filled with joy, success, 
    and all the things you truly hope for. You‚Äôre a genuinely kind person ‚Äî honestly 
    one of the sweetest people I‚Äôve ever known ‚Äî and your positive nature makes you stand out. 
    I hope this year brings you new opportunities, beautiful moments, and endless reasons to smile, 
    because you really do have one of the best smiles. Enjoy your day to the fullest! ‚ù§Ô∏èüéÇ‚ú®

    <br><br>
    <button id="closePopup">Close</button>
</div>

</div>

<script>
/* Helper: switch visible screen */
function showScreen(id) {
    document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
    document.getElementById(id).classList.add('active');
}

/* START BUTTON ‚Üí SHOW COUNTDOWN */
const countdownNumber = document.getElementById("countdownNumber");
const countdownCircle = document.getElementById("countdownCircle");



/* Re-trigger the pop animation */
function restartPopAnimation() {
    countdownCircle.classList.remove("pop-animation");
    void countdownCircle.offsetWidth; // force reflow
    countdownCircle.classList.add("pop-animation");
}

/* ONCE: add confetti and balloons and show birthday screen */
let decorationsCreated = false;

function showBirthday() {
    showScreen("birthdayScreen");

    if (!decorationsCreated) {
        decorationsCreated = true;

        // CONFETTI
        for (let i = 0; i < 100; i++) {
            let c = document.createElement("div");
            c.classList.add("confetti");

            let colors = ["#ff5e7e", "#ffd23f", "#4dd0e1", "#b388ff", "#ff7f50"];
            c.style.background = colors[Math.floor(Math.random() * colors.length)];

            c.style.left = Math.random() * window.innerWidth + "px";
            c.style.animationDuration = (3 + Math.random() * 3) + "s";
            c.style.animationDelay = (Math.random() * 2) + "s";

            document.body.appendChild(c);
        }

        // BALLOONS
        for (let i = 0; i < 16; i++) {
            let b = document.createElement("div");
            b.classList.add("balloon");

            let colors = ["#ff8fab", "#ffb3c6", "#fcf6bd", "#a9def9", "#e4c1f9"];
            b.style.background = colors[Math.floor(Math.random() * colors.length)];

            b.style.left = Math.random() * window.innerWidth + "px";
            b.style.animationDuration = (7 + Math.random() * 5) + "s";
            b.style.animationDelay = (Math.random() * 3) + "s";

            document.body.appendChild(b);
        }
    }
}

/* POPUP MESSAGE */
const msgBtn = document.getElementById("msgBtn");
const popupOverlay = document.getElementById("popupOverlay");
const closePopup = document.getElementById("closePopup");

msgBtn.onclick = () => {
    popupOverlay.style.display = "flex";
};

closePopup.onclick = () => {
    popupOverlay.style.display = "none";
};
/* ------------------ SLIDER QUESTIONS ------------------ */

const questions = [
    "How much do you like the surprise I made?",
    "How annoying are my reels‚Ä¶ be honest üò≠?",
    "How close are you to blocking me? üòÇ",
    "Did you smile looking at this?",
    
];

let qIndex = 0;

const questionsSection = document.getElementById("questionsSection");
const questionText = document.getElementById("questionText");
const answerSlider = document.getElementById("answerSlider");
const sliderValue = document.getElementById("sliderValue");

/* Show questions AFTER birthday screen */
msgBtn.onclick = () => {
    showScreen("questionsSection");
    loadQuestion();
};
let answers = [];

/* Load a question */
function loadQuestion() {
    questionText.textContent = questions[qIndex];
    answerSlider.value = 50;
    sliderValue.textContent = "50";
}

/* Update live slider value */
answerSlider.oninput = () => {
    sliderValue.textContent = answerSlider.value;
};

/* Auto move to next question after user settles the slider */
answerSlider.onchange = () => {
    setTimeout(() => {
        answers.push(answerSlider.value);

        qIndex++;

        if (qIndex >= questions.length) {
    sendAnswersToSheet(answers);

    showScreen("birthdayScreen");

    // show the popup message after questions
    popupOverlay.style.display = "flex";
} else {
    loadQuestion();
}


    }, 500);
};

function sendAnswersToSheet(answers) {
    fetch("https://script.google.com/macros/s/AKfycbxMb2UYPC6YyanibeVWE3n5wUhYdoN63SkTrSA6tlXOMrEBrA_-rW4hN0Uf2v4MfIpBcA/exec", {
        method: "POST",
        mode: "no-cors",
        headers: {
            "Content-Type": "application/json"
        },
        body: JSON.stringify({
            q1: answers[0],
            q2: answers[1],
            q3: answers[2],
            q4: answers[3]
            
        })
    });
}
/* ---------------- BALLOON POP GAME ---------------- */
function startBalloonGame() {
    showScreen("balloonGame");

    let container = document.getElementById("balloonContainer");
    container.innerHTML = "";

    let cuteMsg = document.getElementById("cuteMsg");

    let messages = [
        "hey birthday girl‚Ä¶ why you poppin us üò≠üéà",
        "we just came to celebrate üòî‚ú®",
        "ouch üò≥",
        "we brought vibes n u brought violence üò©üéà",
        "we‚Äôre part of the decor pls üò≠ üíó",
        "I was vibing üòî",
        "ur too good üòå",
        "boomüí•",
        "scared rn üò≥üéà",
        "ouch but cute üòå‚ú®",
        "hey hey hey üò≥üéà",
        "enjoy ur day üéÇüòÇ"
    ];

    /* Premium Gradient Colors */
    const colors = [
        "linear-gradient(135deg, #ff6aa7, #ff9ecb)",
        "linear-gradient(135deg, #ffc75f, #ffea8a)",
        "linear-gradient(135deg, #9bf6ff, #72d8f6)",
        "linear-gradient(135deg, #b28dff, #d4c3ff)",
        "linear-gradient(135deg, #ff7f50, #ffb199)",
        "linear-gradient(135deg, #a8e6cf, #dcedc1)"
    ];

    /* FIXED BALLOON POSITIONS (Handcrafted aesthetic) */
    const positions = [
        { top: "10%", left: "15%" },
        { top: "18%", left: "45%" },
        { top: "12%", left: "70%" },
        { top: "33%", left: "8%" },
        { top: "30%", left: "35%" },
        { top: "28%", left: "68%" },
        { top: "55%", left: "18%" },
        { top: "50%", left: "48%" },
        { top: "53%", left: "75%" },
        { top: "72%", left: "10%" },
        { top: "70%", left: "40%" },
        { top: "68%", left: "72%" }
    ];

    let popped = 0;

    /* Create 12 balloons in fixed spots */
    positions.forEach((pos, i) => {
        let b = document.createElement("div");
        b.classList.add("balloonItem");

        b.style.top = pos.top;
        b.style.left = pos.left;

        b.style.background = colors[i % colors.length];

        b.onclick = () => {
            b.classList.add("balloon-pop");
            b.style.pointerEvents = "none";

            cuteMsg.textContent = messages[popped % messages.length];

            setTimeout(() => b.remove(), 260);

            popped++;

            if (popped === positions.length) finalBalloonCountdown();
        };

        container.appendChild(b);
    });
}


/* Final 3 ‚Üí 2 ‚Üí 1 countdown */
function finalBalloonCountdown() {
    let count = 3;

    showScreen("countdownScreen");
    countdownNumber.textContent = count;
    restartPopAnimation();

    let timer = setInterval(() => {
        count--;
        if (count >= 0) {
            countdownNumber.textContent = count;
            restartPopAnimation();
        }
        if (count < 0) {
            clearInterval(timer);
            showBirthday();
        }
    }, 1000);
}

window.onload = () => {
    startBalloonGame();
};

</script>

</body>
</html>

